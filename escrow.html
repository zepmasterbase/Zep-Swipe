<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Zep Swipe ‚Äî Escrow Protection</title>

<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@600;700&family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">

<style>
:root{
  --zep-blue:#00f0ff;
  --zep-violet:#9c4dff;
  --bg:radial-gradient(circle at 30% 10%, #050018, #00000c);
  --glass:rgba(255,255,255,0.08);
  --text-light:rgba(255,255,255,0.85);
  --success:#00ff9d;
}

*{box-sizing:border-box;margin:0;padding:0;font-family:Poppins,sans-serif}

body{
  background:var(--bg);
  color:#fff;
  min-height:100vh;
}

/* HEADER */
header{
  display:flex;
  justify-content:space-between;
  align-items:center;
  padding:18px;
  margin:16px;
  border-radius:16px;
  background:radial-gradient(circle at center, rgba(0,240,255,.2), rgba(156,77,255,.2));
  backdrop-filter:blur(14px);
}

.brand{
  font-family:Orbitron;
  font-size:1.4rem;
  background:linear-gradient(90deg,var(--zep-blue),var(--zep-violet));
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
}

.back-btn{
  background:rgba(255,255,255,.12);
  border:none;
  color:#fff;
  padding:8px 14px;
  border-radius:999px;
  cursor:pointer;
}

/* CONTAINER */
.container{
  max-width:560px;
  margin:30px auto;
  padding:20px;
}

/* CARD */
.card{
  background:var(--glass);
  border-radius:18px;
  padding:20px;
  border:1px solid rgba(255,255,255,.12);
  box-shadow:0 0 40px rgba(156,77,255,.25);
}

h2{
  font-family:Orbitron;
  margin-bottom:10px;
}

.sub{
  font-size:.85rem;
  color:var(--text-light);
  margin-bottom:20px;
}

/* DETAILS */
.detail{
  display:flex;
  justify-content:space-between;
  margin-bottom:10px;
  font-size:.9rem;
}

.amount{
  font-size:1.4rem;
  font-family:Orbitron;
}

/* STATUS */
.status{
  margin:18px 0;
  padding:12px;
  border-radius:12px;
  text-align:center;
  font-size:.9rem;
  background:rgba(255,255,255,.08);
}

.status.funded{
  background:rgba(0,255,150,.15);
  color:var(--success);
}

/* ACTIONS */
.actions{
  display:flex;
  gap:10px;
  margin-top:20px;
}

.actions button{
  flex:1;
  border:none;
  padding:12px;
  border-radius:999px;
  font-family:Orbitron;
  cursor:pointer;
}

.fund{
  background:linear-gradient(90deg,var(--zep-blue),var(--zep-violet));
  color:#050015;
}

.release{
  background:rgba(0,255,150,.18);
  color:var(--success);
  border:1px solid rgba(0,255,150,.4);
}

.disabled{
  opacity:.5;
  cursor:not-allowed;
}

/* FOOTNOTE */
.note{
  margin-top:14px;
  font-size:.75rem;
  color:var(--text-light);
  text-align:center;
}
</style>
</head>
<body>

<header>
  <div class="brand">Zep Swipe Escrow</div>
  <button class="back-btn" onclick="history.back()">‚Üê Back</button>
</header>

<div class="container">
  <div class="card">

    <h2>Escrow Protection</h2>
    <p class="sub">Funds are securely held until work is completed and approved.</p>

    <div class="detail">
      <span>Job</span>
      <strong id="jobTitle">‚Äî</strong>
    </div>

    <div class="detail">
      <span>Student</span>
      <strong id="studentName">‚Äî</strong>
    </div>

    <div class="detail">
      <span>Payment</span>
      <strong class="amount">$<span id="amount">0</span></strong>
    </div>

    <div id="statusBox" class="status">
      Escrow not funded
    </div>

    <div class="actions">
      <button id="fundBtn" class="fund">Fund Escrow</button>
      <button id="releaseBtn" class="release disabled">Release Payment</button>
    </div>

    <div class="note">
      üîí Escrow is simulated for MVP. Funds are safely protected.
    </div>

  </div>
</div>

<script>
/* MOCK DATA (would come from job + applicant) */
const escrow = JSON.parse(localStorage.getItem("escrow")) || {
  jobId: 1,
  jobTitle: "Website Development",
  student: "Alex Johnson",
  amount: 350,
  status: "pending" // pending | funded | released
};

const wallet = JSON.parse(localStorage.getItem("wallet")) || {
  USD: 0,
  ZAC: 0
};

/* ELEMENTS */
const statusBox = document.getElementById("statusBox");
const fundBtn = document.getElementById("fundBtn");
const releaseBtn = document.getElementById("releaseBtn");

/* RENDER */
document.getElementById("jobTitle").innerText = escrow.jobTitle;
document.getElementById("studentName").innerText = escrow.student;
document.getElementById("amount").innerText = escrow.amount;

function updateUI(){
  if(escrow.status === "funded"){
    statusBox.innerText = "Escrow Funded ‚Äî Work in Progress";
    statusBox.classList.add("funded");
    fundBtn.classList.add("disabled");
    releaseBtn.classList.remove("disabled");
  }

  if(escrow.status === "released"){
    statusBox.innerText = "Payment Released ‚úî";
    statusBox.classList.add("funded");
    fundBtn.classList.add("disabled");
    releaseBtn.classList.add("disabled");
  }
}

updateUI();

/* FUND ESCROW */
fundBtn.onclick = ()=>{
  if(escrow.status !== "pending") return;

  escrow.status = "funded";
  localStorage.setItem("escrow", JSON.stringify(escrow));
  updateUI();
  alert("Escrow funded successfully.");
};

/* RELEASE PAYMENT */
releaseBtn.onclick = ()=>{
  if(escrow.status !== "funded") return;

  escrow.status = "released";
  wallet.USD += escrow.amount;
  wallet.ZAC += Math.round(escrow.amount / 10);

  localStorage.setItem("escrow", JSON.stringify(escrow));
  localStorage.setItem("wallet", JSON.stringify(wallet));

  updateUI();
  alert("Payment released to student.");
};
</script>

</body>
</html>