<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Zep Swipe ‚Äî Learn & Earn</title>
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@600;700&family=Poppins:wght@300;400,500,600&display=swap" rel="stylesheet">
<style>
:root{
  --zep-blue:#00f0ff;
  --zep-violet:#9c4dff;
  --bg:radial-gradient(circle at 30% 10%, #050018, #00000c);
  --glass:rgba(255,255,255,.08);
  --text-light:rgba(255,255,255,.85);
}

/* RESET */
*{box-sizing:border-box;margin:0;padding:0;font-family:Poppins,sans-serif;}
body{background:var(--bg);color:#fff;min-height:100vh;}

/* HEADER */
header{
  display:flex;justify-content:space-between;align-items:center;
  padding:18px;margin:16px;border-radius:16px;
  background:radial-gradient(circle at center, rgba(0,240,255,.2), rgba(156,77,255,.2));
  backdrop-filter:blur(14px);
}
.brand{
  font-family:Orbitron;font-size:1.5rem;
  background:linear-gradient(90deg,var(--zep-blue),var(--zep-violet));
  -webkit-background-clip:text;-webkit-text-fill-color:transparent;
}
.home-btn{
  background:rgba(255,255,255,.1);
  border:none;border-radius:50%;width:38px;height:38px;color:#fff;cursor:pointer;
}

/* DASHBOARD LAYOUT */
.dashboard{
  padding:16px;display:flex;flex-direction:column;gap:22px;max-width:1200px;margin:auto;
}

/* COURSES GRID */
.courses-grid{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(280px,1fr));
  gap:20px;
}
.course{
  background:var(--glass);
  border-radius:16px;
  padding:20px;
  border:1px solid rgba(255,255,255,.12);
  display:flex;flex-direction:column;justify-content:space-between;
  cursor:pointer;
  transition:.3s;
  position:relative;
}
.course:hover, .course.active{
  box-shadow:0 0 20px var(--zep-blue),0 0 40px var(--zep-violet);
  transform:scale(1.03);
}
.course h4{margin-bottom:8px;font-family:Orbitron;}
.course p{font-size:.85rem;color:var(--text-light);flex:1;}
.course .status{
  margin-top:10px;font-size:.85rem;
  color:var(--zep-blue);
  font-weight:600;
}

/* PAYMENT BUTTON */
#verifyBtn{
  margin-top:12px;
  padding:12px;
  border:none;border-radius:999px;
  background:linear-gradient(90deg,var(--zep-blue),var(--zep-violet));
  color:#050015;
  font-family:Orbitron;
  cursor:pointer;
  width:100%;
  transition:.3s;
}
#verifyBtn:hover{transform:translateY(-2px);box-shadow:0 0 15px var(--zep-blue),0 0 30px var(--zep-violet);}

/* MOBILE RESPONSIVE */
@media(max-width:480px){.courses-grid{grid-template-columns:1fr;}}
</style>
</head>
<body>

<header>
  <div class="brand">Zep Swipe ‚Äî Learn & Earn</div>
  <button class="home-btn" onclick="goHome()">üè†</button>
</header>

<div class="dashboard">

  <!-- PROFILE SUMMARY -->
  <div class="section profile-summary">
    <img id="profileImg" width="80" height="80" style="border-radius:50%;">
    <div>
      <h3 id="studentName"></h3>
      <span id="studentLevel"></span><br>
      <span id="completionText"></span><br>
      <span id="walletBalance"></span><br>
      <span id="verifiedBadge" style="color:limegreen;font-weight:600;"></span>
    </div>
  </div>

  <!-- COURSES GRID -->
  <div class="section">
    <h3>Available Courses</h3>
    <div class="courses-grid" id="coursesGrid"></div>
  </div>

</div>

<script>
/* =======================
   USER SESSION
======================= */
let users = JSON.parse(localStorage.getItem("users")) || [];
let currentUserId = localStorage.getItem("currentUserId");
let currentUser = users.find(u=>u.id === currentUserId);

if(!currentUser){
  location.href="login.html";
}

/* =======================
   PROFILE DISPLAY
======================= */
const profileImg = document.getElementById("profileImg");
const studentName = document.getElementById("studentName");
const studentLevel = document.getElementById("studentLevel");
const completionText = document.getElementById("completionText");
const walletBalance = document.getElementById("walletBalance");
const verifiedBadge = document.getElementById("verifiedBadge");

function updateProfile(){
  profileImg.src = currentUser.profileImage || "https://via.placeholder.com/80";
  studentName.innerText = currentUser.name;
  studentLevel.innerText = currentUser.level;
  completionText.innerText = `Profile Completion: ${currentUser.profileCompletion || 0}%`;
  walletBalance.innerText = `Wallet: ${currentUser.walletBalance || 0} ZAC`;
  verifiedBadge.innerText = currentUser.verified ? "‚úî Verified" : "";
}
updateProfile();

/* =======================
   COURSES DATA
======================= */
const courses = [
  {
    id:1,
    title:"Freelancer Basics",
    description:"Learn how to create client-ready profiles and bid successfully on projects.",
    instruction:"Record an intro video of yourself, sign up on www.zora.co, upload the video to your profile, copy the link, and submit it on Zep Swipe to complete the task.",
    reward:10
  },
  {
    id:2,
    title:"Advanced Freelancing",
    description:"Master client communication, proposals, and winning projects.",
    instruction:"Complete 2 sample proposals and submit via Zep Swipe to earn ZAC.",
    reward:15
  },
  {
    id:3,
    title:"Portfolio Creation",
    description:"Build your portfolio with real projects.",
    instruction:"Upload 3 completed projects to your profile to earn ZAC.",
    reward:20
  },
  {
    id:4,
    title:"Verified Freelancer",
    description:"Pay $5 verification to unlock premium jobs and show verified badge.",
    instruction:"Use Flutterwave to pay $5. After confirmation, your profile will be verified.",
    reward:0,
    verification:true
  }
];

/* =======================
   RENDER COURSES
======================= */
const coursesGrid = document.getElementById("coursesGrid");

function renderCourses(){
  coursesGrid.innerHTML = "";
  courses.forEach(course=>{
    const div = document.createElement("div");
    div.className = "course";
    div.innerHTML = `
      <h4>${course.title}</h4>
      <p>${course.description}</p>
      <div class="status">${currentUser.tasks[course.id-1] ? "‚úÖ Completed" : ""}</div>
      ${course.verification ? `<button id="verifyBtn">Pay $5 to Verify</button>` : ""}
    `;
    coursesGrid.appendChild(div);

    if(!course.verification){
      div.addEventListener("click", ()=>{
        if(!currentUser.tasks[course.id-1]){
          alert(course.instruction);
          // Update user
          currentUser.tasks[course.id-1] = true;
          currentUser.walletBalance = (currentUser.walletBalance || 0) + course.reward;
          currentUser.tasksCompleted = (currentUser.tasksCompleted || 0) + 1;
          // Save
          users = users.map(u=>u.id===currentUserId ? currentUser : u);
          localStorage.setItem("users", JSON.stringify(users));
          updateProfile();
          renderCourses();
        }
      });
    } else {
      // Verification payment placeholder
      const btn = div.querySelector("#verifyBtn");
      btn.addEventListener("click", ()=>{
        alert("Flutterwave $5 payment integration placeholder.\nAfter payment, profile will be verified.");
        // Simulate verification
        currentUser.verified = true;
        users = users.map(u=>u.id===currentUserId ? currentUser : u);
        localStorage.setItem("users", JSON.stringify(users));
        updateProfile();
        renderCourses();
      });
    }

  });
}

renderCourses();

/* =======================
   NAVIGATION
======================= */
function goHome(){window.location.href="student-dashboard.html";}
</script>

</body>
</html>