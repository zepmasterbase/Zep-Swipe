<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Zep Swipe — Learn & Earn</title>
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@600;700&family=Poppins:wght@300;400,500,600&display=swap" rel="stylesheet">
<style>
:root{
  --zep-blue:#00f0ff;
  --zep-violet:#9c4dff;
  --bg:radial-gradient(circle at 30% 10%, #050018, #00000c);
  --glass:rgba(255,255,255,0.08);
  --text-light:rgba(255,255,255,.85);
  --card-bg:rgba(255,255,255,.05);
  --accent:#00ff9d;
  --streak:#ffea00;
}

/* RESET */
*{box-sizing:border-box;margin:0;padding:0;font-family:Poppins,sans-serif;}
body{background:var(--bg);color:#fff;min-height:100vh;line-height:1.4;}
a{text-decoration:none;color:inherit;}

/* HEADER */
header{
  display:flex;justify-content:space-between;align-items:center;
  padding:16px 20px;max-width:1200px;margin:auto;
  border-radius:12px;
  background:rgba(0,0,0,0.15);
  box-shadow:0 0 20px var(--zep-blue),0 0 40px var(--zep-violet);
  animation:pulse 2s infinite;
  margin-top:10px;
}
@keyframes pulse{
  0%{box-shadow:0 0 20px var(--zep-blue),0 0 40px var(--zep-violet);}
  50%{box-shadow:0 0 30px var(--zep-blue),0 0 60px var(--zep-violet);}
  100%{box-shadow:0 0 20px var(--zep-blue),0 0 40px var(--zep-violet);}
}
.brand{font-family:Orbitron;font-size:1.6rem;background:linear-gradient(90deg,var(--zep-blue),var(--zep-violet));-webkit-background-clip:text;-webkit-text-fill-color:transparent;}
header nav a{margin-left:20px;font-weight:500;transition:.3s;}
header nav a:hover{color:var(--zep-blue);}

/* STUDENT INFO CARD */
.student-info{
  display:flex;justify-content:space-between;align-items:center;
  padding:16px 20px;max-width:1200px;margin:20px auto;
  background:var(--card-bg);border-radius:16px;backdrop-filter:blur(6px);
}
.student-info div{display:flex;flex-direction:column;}
.student-info div span{font-size:0.85rem;color:var(--text-light);}
.wallet-balance{font-weight:700;font-family:Orbitron;}

/* PROGRAM SELECTION */
.programs{display:flex;flex-wrap:wrap;gap:12px;max-width:1200px;margin:0 auto 20px;padding:0 20px;}
.program-card{
  flex:1 1 140px;padding:14px;border-radius:16px;text-align:center;
  background:var(--card-bg);cursor:pointer;transition:.3s;position:relative;
}
.program-card.selected{border:2px solid var(--zep-blue);box-shadow:0 0 15px var(--zep-blue);}
.program-card:hover{transform:translateY(-2px);box-shadow:0 0 15px var(--zep-violet);}

/* TASK CARDS */
.tasks-container{display:grid;grid-template-columns:1fr;gap:16px;max-width:1200px;margin:auto;padding:0 20px 40px;}
@media(min-width:600px){.tasks-container{grid-template-columns:1fr 1fr;}}
@media(min-width:900px){.tasks-container{grid-template-columns:1fr 1fr 1fr;}}
.task-card{
  background:var(--card-bg);border-radius:16px;padding:16px;
  position:relative;transition:.3s;display:flex;flex-direction:column;gap:8px;
}
.task-card.locked{opacity:0.5;filter:grayscale(70%);}
.task-card.completed{animation:taskCompleted 0.6s ease forwards;}
@keyframes taskCompleted{
  0%{transform:scale(1);}
  50%{transform:scale(1.05) rotate(2deg);}
  100%{transform:scale(1);}
}
.task-card h4{margin-bottom:6px;font-size:1rem;}
.task-card p{font-size:0.85rem;color:var(--text-light);}
.task-card input[type="text"]{padding:8px;border-radius:12px;border:none;background:rgba(255,255,255,0.1);color:#fff;outline:none;}
.task-card button{
  padding:8px 16px;border:none;border-radius:999px;background:linear-gradient(90deg,var(--zep-blue),var(--zep-violet));
  color:#050015;font-family:Orbitron;cursor:pointer;transition:.3s;
}
.task-card button:hover{transform:translateY(-2px);box-shadow:0 0 15px var(--zep-blue),0 0 30px var(--zep-violet);}

/* PROGRESS BAR */
.progress-bar-container{
  max-width:1200px;margin:20px auto;padding:0 20px;
}
.progress-bar{
  width:100%;height:16px;background:rgba(255,255,255,0.1);border-radius:12px;overflow:hidden;
}
.progress-bar-fill{
  height:100%;width:0%;background:var(--accent);border-radius:12px;transition:width 0.5s ease-in-out;
}

/* STREAK BADGES */
.streak-badge{
  display:inline-block;margin-right:6px;padding:4px 8px;border-radius:12px;background:var(--streak);color:#050015;font-weight:600;font-size:0.75rem;transition:.3s;
  transform:scale(1);
}
.streak-badge.earned{animation:pop 0.5s ease forwards;}
@keyframes pop{0%{transform:scale(0.5);}50%{transform:scale(1.2);}100%{transform:scale(1);}}

/* CONFETTI */
#confettiCanvas{position:fixed;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:1000;}

/* VERIFICATION BANNER */
#verificationBanner{
  max-width:1200px;margin:20px auto;padding:16px;border-radius:16px;text-align:center;
  background:linear-gradient(90deg,var(--zep-blue),var(--zep-violet));
  cursor:pointer;font-family:Orbitron;font-weight:700;transition:.3s;
  display:none;
}
#verificationBanner:hover{transform:translateY(-2px);box-shadow:0 0 20px var(--zep-blue),0 0 40px var(--zep-violet);}

/* FOOTER */
footer{text-align:center;padding:20px 10px;margin-top:40px;border-top:1px solid rgba(255,255,255,.1);color:var(--text-light);font-size:0.85rem;}
</style>
</head>
<body>

<header>
  <div class="brand">Zep Swipe</div>
  <nav>
    <a href="index.html">Home</a>
    <a href="#" style="color:var(--zep-blue);font-weight:600;">Learn & Earn</a>
    <a href="marketplace.html">Marketplace</a>
    <a href="student-wallet.html">Wallet</a>
  </nav>
</header>

<div class="student-info">
  <div>
    <span id="studentName">Student Name</span>
    <span id="studentUni">University</span>
    <span id="studentProgram">Program: <strong>--</strong></span>
  </div>
  <div class="wallet-balance">Wallet: <span id="walletBalance">0</span> ZAC</div>
  <div><a href="profile.html">Profile</a></div>
</div>

<div class="programs" id="programsContainer"></div>

<div class="progress-bar-container">
  <div class="progress-bar">
    <div class="progress-bar-fill" id="progressFill"></div>
  </div>
</div>

<div id="streakContainer" style="max-width:1200px;margin:10px auto;padding:0 20px;"></div>

<div class="tasks-container" id="tasksContainer"></div>

<div id="verificationBanner" onclick="location.href='verification.html'">
  Become a Verified Freelancer – $5
</div>

<canvas id="confettiCanvas"></canvas>

<footer>
  <a href="about.html">About</a> | <a href="marketplace.html">Marketplace</a> | <a href="student-deals.html">Student Deals</a> | <a href="contact.html">Contact</a>
</footer>

<script>
// ACCESS CONTROL
let studentData = JSON.parse(localStorage.getItem('studentData'));
if(!studentData){ window.location.href='login.html'; }

// INITIAL STUDENT INFO
document.getElementById('studentName').innerText = studentData.name;
document.getElementById('studentUni').innerText = studentData.university || '';
document.getElementById('studentProgram').querySelector('strong').innerText = studentData.program || '--';
document.getElementById('walletBalance').innerText = studentData.walletBalance || 0;

// PROGRAM SELECTION
const programs = ["Virtual Assistant","Content Creator (Video)","Blog Writer","Voice-over Artist","Data Entry","UI/UX Designer","Online Tutor"];
const programsContainer = document.getElementById('programsContainer');

programs.forEach(prog=>{
  const card = document.createElement('div');
  card.className='program-card';
  if(studentData.program === prog) card.classList.add('selected');
  card.innerText = prog;
  card.onclick = ()=>{
    studentData.program = prog;
    localStorage.setItem('studentData', JSON.stringify(studentData));
    document.querySelectorAll('.program-card').forEach(c=>c.classList.remove('selected'));
    card.classList.add('selected');
    document.getElementById('studentProgram').querySelector('strong').innerText = prog;
    renderTasks(prog);
  }
  programsContainer.appendChild(card);
});

// TASK TEMPLATES
const taskTemplates = {
  "Virtual Assistant": ["Organize inbox","Schedule meetings","Create daily to-do","Update Sheets","Research suppliers","Set up Zoom","Draft emails"],
  "Content Creator (Video)": ["Create TikTok video","Edit YouTube short","Film B-roll","Add captions","Upload video","Storyboard","Engage comments"],
  "Blog Writer":["Write 300-word blog","Proofread previous blog","Research keywords","Format blog","SEO optimize","Share post","Reply comments"],
  "Voice-over Artist":["Record voice clip","Edit audio","Add background music","Submit demo","Practice vocals","Read script","Record narration"],
  "Data Entry":["Enter 20 rows","Clean spreadsheet","Verify emails","Input survey","Organize database","Create pivot","Generate report"],
  "UI/UX Designer":["Sketch wireframe","Create Figma prototype","Design login page","Redesign nav","Design mobile screen","Prepare assets","Review feedback"],
  "Online Tutor":["Prepare 30-min lesson","Create assignment","Grade 5 submissions","Host 1-on-1 session","Create quiz","Update notes","Answer questions"]
};

// TASKS RENDERING
const tasksContainer = document.getElementById('tasksContainer');
const progressFill = document.getElementById('progressFill');
const streakContainer = document.getElementById('streakContainer');

function renderTasks(program){
  tasksContainer.innerHTML=''; streakContainer.innerHTML='';
  if(!studentData.tasksCompleted) studentData.tasksCompleted=[];
  const programTasks = taskTemplates[program];
  for(let day=1;day<=21;day++){
    const taskCard = document.createElement('div');
    taskCard.className='task-card';
    const completed = studentData.tasksCompleted.includes(`${program}-${day}`);
    if(day>1 && !studentData.tasksCompleted.includes(`${program}-${day-1}`)) taskCard.classList.add('locked');
    if(completed) taskCard.classList.add('completed');
    taskCard.innerHTML=`
      <h4>Day ${day}</h4>
      <p>${programTasks[(day-1)%programTasks.length]}</p>
      <input type="text" placeholder="Submit Zora link" ${taskCard.classList.contains('locked')?'disabled':''} id="taskInput${day}">
      <button ${taskCard.classList.contains('locked')?'disabled':''}>Submit (+25 ZAC)</button>
    `;
    tasksContainer.appendChild(taskCard);

    if(completed){
      taskCard.querySelector('button').disabled=true;
      taskCard.querySelector('input').disabled=true;
      addStreakBadge(day);
    }

    if(!taskCard.classList.contains('locked')){
      const btn = taskCard.querySelector('button');
      btn.onclick = ()=>{
        const input = document.getElementById(`taskInput${day}`);
        if(!input.value.trim()){ alert("Please submit a valid link"); return;}
        const taskKey = `${program}-${day}`;
        if(!studentData.tasksCompleted.includes(taskKey)) studentData.tasksCompleted.push(taskKey);
        studentData.walletBalance = (studentData.walletBalance||0)+25;
        document.getElementById('walletBalance').innerText = studentData.walletBalance;
        localStorage.setItem('studentData', JSON.stringify(studentData));
        btn.disabled = true; input.disabled = true;
        addStreakBadge(day); launchConfetti();
        // unlock next task
        const nextTask = tasksContainer.children[day];
        if(nextTask){ nextTask.classList.remove('locked'); 
        nextTask.querySelector('button').disabled=false; nextTask.querySelector('input').disabled=false;}
        // progress bar
        const completedCount = studentData.tasksCompleted.filter(t=>t.startsWith(program)).length;
        progressFill.style.width=`${(completedCount/21)*100}%`;
        if(completedCount===21) document.getElementById('verificationBanner').style.display='block';
      }
    }
  }
  const completedCount = studentData.tasksCompleted.filter(t=>t.startsWith(program)).length;
  progressFill.style.width=`${(completedCount/21)*100}%`;
}

// STREAK BADGES
function addStreakBadge(day){
  const badge = document.createElement('span');
  badge.className='streak-badge earned';
  badge.innerText=`Day ${day} ✅`;
  streakContainer.appendChild(badge);
}

// CONFETTI
function launchConfetti(){
  const canvas = document.getElementById('confettiCanvas');
  const ctx = canvas.getContext('2d');
  canvas.width=window.innerWidth; canvas.height=window.innerHeight;
  const confettiCount=100; const confettis=[];
  for(let i=0;i<confettiCount;i++){
    confettis.push({x:Math.random()*canvas.width,y:Math.random()*canvas.height-20,r:Math.random()*6+2,dx:(Math.random()-0.5)*2,dy:Math.random()*3+2,color:`hsl(${Math.random()*360},80%,60%)`});
  }
  function draw(){
    ctx.clearRect(0,0,canvas.width,canvas.height);
    confettis.forEach(c=>{ctx.fillStyle=c.color;ctx.beginPath();ctx.arc(c.x,c.y,c.r,0,2*Math.PI);ctx.fill();c.x+=c.dx;c.y+=c.dy;if(c.y>canvas.height){c.y=0;c.x=Math.random()*canvas.width;}});
    requestAnimationFrame(draw);
  }
  draw();
  setTimeout(()=>{ctx.clearRect(0,0,canvas.width,canvas.height);},3000);
}

// INITIAL TASKS
if(studentData.program) renderTasks(studentData.program);
</script>
</body>
</html>