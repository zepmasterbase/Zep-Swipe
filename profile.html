<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Zep Swipe — Student Profile</title>

<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@600;700&family=Poppins:wght@300;400;600&display=swap" rel="stylesheet"/>

<style>
:root{
  --zep-blue:#00f0ff;
  --zep-violet:#9c4dff;
  --glass:rgba(255,255,255,0.06);
  --bg:radial-gradient(circle at 25% 10%, #020014 0%, #00000a 100%);
}
*{box-sizing:border-box}
body{
  margin:0;
  font-family:'Poppins',sans-serif;
  background:var(--bg);
  color:#fff;
  overflow-x:hidden;
}
.container{
  max-width:920px;
  margin:24px auto 100px;
  padding:16px;
}

/* HEADER */
.header{
  display:flex;
  justify-content:space-between;
  align-items:center;
  padding:16px;
  border-radius:16px;
  background:var(--glass);
  border:1px solid rgba(255,255,255,0.12);
  backdrop-filter:blur(16px);
  box-shadow:0 0 40px rgba(0,240,255,.25);
}
.brand{
  font-family:Orbitron;
  font-size:1.4rem;
  background:linear-gradient(90deg,var(--zep-blue),var(--zep-violet));
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
}
.back{cursor:pointer;font-size:13px;color:#bffcff}

/* PROFILE CARD */
.profile-card{
  margin-top:18px;
  padding:18px;
  border-radius:18px;
  background:rgba(255,255,255,0.05);
  border:1px solid rgba(255,255,255,0.12);
  display:flex;
  gap:16px;
  align-items:center;
  flex-wrap:wrap;
}

/* AVATAR */
.avatar{
  width:96px;height:96px;
  border-radius:50%;
  background:linear-gradient(135deg,var(--zep-blue),var(--zep-violet));
  display:flex;align-items:center;justify-content:center;
  overflow:hidden;
  cursor:pointer;
}
.avatar img{width:100%;height:100%;object-fit:cover}
.avatar span{font-family:Orbitron;color:#050015}

/* PROFILE INFO */
.info{
  flex:1;
}
.info h2{
  margin:0;
  font-family:Orbitron;
  font-size:1.1rem;
}
.info p{
  margin:6px 0 0;
  font-size:13px;
  opacity:.85;
}
.badge{
  display:inline-block;
  margin-top:6px;
  padding:4px 10px;
  border-radius:999px;
  font-size:12px;
  font-family:Orbitron;
}
.badge.pending{
  background:rgba(255,165,0,.2);
  border:1px solid orange;
}
.badge.verified{
  background:rgba(0,240,255,.25);
  border:1px solid var(--zep-blue);
}

/* SECTIONS */
.section{
  margin-top:22px;
  padding:18px;
  border-radius:18px;
  background:rgba(255,255,255,0.05);
  border:1px solid rgba(255,255,255,0.12);
}
.section-title{
  font-family:Orbitron;
  background:linear-gradient(90deg,var(--zep-blue),var(--zep-violet));
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
  margin-bottom:12px;
}

/* PROGRESS */
.course{
  margin-bottom:12px;
}
.course-name{
  font-size:14px;
}
.progress{
  height:8px;
  background:rgba(255,255,255,.12);
  border-radius:10px;
  overflow:hidden;
  margin-top:6px;
}
.progress span{
  display:block;
  height:100%;
  background:linear-gradient(90deg,var(--zep-blue),var(--zep-violet));
}

/* SKILLS */
.skill{
  display:inline-block;
  padding:6px 10px;
  margin:6px 6px 0 0;
  border-radius:999px;
  background:rgba(255,255,255,.08);
  font-size:12px;
  font-family:Orbitron;
}

/* CTA */
.cta{
  margin-top:14px;
  padding:12px 16px;
  border-radius:999px;
  background:linear-gradient(90deg,var(--zep-blue),var(--zep-violet));
  color:#050015;
  font-family:Orbitron;
  font-weight:700;
  border:none;
  cursor:pointer;
}

/* FOOTER */
.footer{
  position:fixed;
  bottom:0;left:0;right:0;
  background:rgba(0,0,0,.6);
  backdrop-filter:blur(10px);
  padding:12px;
  display:flex;
  justify-content:space-around;
}
.footer a{
  color:#00f0ff;
  font-family:Orbitron;
  font-size:13px;
  text-decoration:none;
}
</style>
</head>

<body>

<div class="container">
  <div class="header">
    <div class="brand">Zep Swipe · Profile</div>
    <div class="back" onclick="location.href='student-dashboard.html'">← Dashboard</div>
  </div>

  <!-- PROFILE -->
  <div class="profile-card">
    <label class="avatar">
      <input type="file" accept="image/*" hidden id="avatarInput"/>
      <img id="avatarImg" style="display:none"/>
      <span id="avatarText">Upload</span>
    </label>

    <div class="info">
      <h2 id="walletShort">—</h2>
      <p>
        <input id="university" placeholder="Your University"
          style="background:transparent;border:none;color:#fff;font-size:13px;outline:none"/>
      </p>
      <span id="statusBadge" class="badge pending">Not Verified</span>
    </div>
  </div>

  <!-- LEARNING -->
  <div class="section">
    <div class="section-title">Learning Progress</div>
    <div id="progressList"></div>
  </div>

  <!-- SKILLS -->
  <div class="section">
    <div class="section-title">Skills</div>
    <div id="skills"></div>
  </div>

  <!-- MARKETPLACE -->
  <div class="section">
    <div class="section-title">Marketplace</div>
    <p style="font-size:13px;opacity:.85">
      Complete Learn & Earn to unlock Swipe Merchants.
    </p>
    <button class="cta" id="marketBtn">Go to Learn & Earn</button>
  </div>
</div>

<div class="footer">
  <a href="student-dashboard.html">Home</a>
  <a href="learn-earn.html">Learn</a>
  <a href="wallet.html">Wallet</a>
</div>

<script>
/* AUTH */
const student = JSON.parse(localStorage.getItem("zepStudent"));
if(!student){ location.href="student-login.html"; }

/* WALLET */
const short = a => a.slice(0,6)+"..."+a.slice(-4);
document.getElementById("walletShort").textContent = short(student.wallet);

/* AVATAR */
const img = document.getElementById("avatarImg");
const text = document.getElementById("avatarText");
const savedAvatar = localStorage.getItem("zepAvatar");
if(savedAvatar){ img.src=savedAvatar; img.style.display="block"; text.style.display="none"; }

document.getElementById("avatarInput").onchange = e=>{
  const r=new FileReader();
  r.onload=()=>{ localStorage.setItem("zepAvatar",r.result); img.src=r.result; img.style.display="block"; text.style.display="none"; }
  r.readAsDataURL(e.target.files[0]);
};

/* UNIVERSITY */
const uni = document.getElementById("university");
uni.value = localStorage.getItem("zepUniversity")||"";
uni.onchange = ()=>localStorage.setItem("zepUniversity",uni.value);

/* COURSES */
const courses = [
 "AI Prompt Engineering","No-Code Automation","Content Creation",
 "Chatbot Building","Web Design","Data & Research","Digital Marketing","Freelancing"
];

let completed=0;
const progressList=document.getElementById("progressList");
const skills=document.getElementById("skills");

courses.forEach((c,i)=>{
  const data=JSON.parse(localStorage.getItem("zep_"+c.split(" ")[0].toLowerCase()))||{day:0};
  const pct=Math.min((data.day/21)*100,100);
  if(data.day>=21){ completed++; skills.innerHTML+=`<span class="skill">${c}</span>`; }

  progressList.innerHTML+=`
    <div class="course">
      <div class="course-name">${c}</div>
      <div class="progress"><span style="width:${pct}%"></span></div>
    </div>`;
});

/* VERIFICATION */
const badge=document.getElementById("statusBadge");
const btn=document.getElementById("marketBtn");

if(completed>=1){
  badge.textContent="Verified Student";
  badge.className="badge verified";
  btn.textContent="Open Swipe Merchants";
  btn.onclick=()=>location.href="swipe-merchants.html";
}else{
  btn.onclick=()=>location.href="learn-earn.html";
}
</script>

</body>
</html>