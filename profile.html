<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Zep Swipe â€” Student Profile</title>

<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@600;700&family=Poppins:wght@400;500;600&display=swap" rel="stylesheet">

<style>
:root{
  --zep-blue:#00f0ff;
  --zep-violet:#9c4dff;
  --bg:radial-gradient(circle at 25% 10%, #020014 0%, #00000a 100%);
  --glass:rgba(255,255,255,0.06);
}

*{box-sizing:border-box}
body{
  margin:0;
  font-family:Poppins,sans-serif;
  background:var(--bg);
  color:#fff;
}

.container{
  max-width:720px;
  margin:24px auto 110px;
  padding:16px;
}

/* Header */
.header{
  padding:16px;
  border-radius:18px;
  background:var(--glass);
  border:1px solid rgba(255,255,255,.12);
  display:flex;
  justify-content:space-between;
  align-items:center;
  backdrop-filter:blur(16px);
}

.brand{
  font-family:Orbitron;
  font-size:1.3rem;
  background:linear-gradient(90deg,var(--zep-blue),var(--zep-violet));
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
}

.home-btn{
  padding:8px 14px;
  border-radius:999px;
  border:none;
  font-family:Orbitron;
  font-size:12px;
  background:linear-gradient(90deg,var(--zep-blue),var(--zep-violet));
  color:#050015;
  cursor:pointer;
}

/* Card */
.card{
  margin-top:18px;
  padding:18px;
  border-radius:20px;
  background:rgba(255,255,255,0.05);
  border:1px solid rgba(255,255,255,.12);
  backdrop-filter:blur(16px);
}

/* Avatar */
.avatar-wrap{
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:10px;
}

.avatar{
  width:96px;
  height:96px;
  border-radius:50%;
  background:#020617;
  border:2px solid var(--zep-blue);
  object-fit:cover;
}

.upload-btn{
  font-size:12px;
  opacity:.85;
  cursor:pointer;
  text-decoration:underline;
}

/* Verification badge */
.badge{
  margin-top:6px;
  padding:4px 10px;
  border-radius:999px;
  font-size:11px;
  font-family:Orbitron;
}
.badge.locked{
  background:rgba(255,255,255,.08);
  opacity:.6;
}
.badge.verified{
  background:linear-gradient(90deg,var(--zep-blue),var(--zep-violet));
  color:#050015;
}

/* Form */
.field{
  margin-top:14px;
}
label{
  font-size:12px;
  opacity:.8;
}
input{
  width:100%;
  margin-top:6px;
  padding:12px;
  border-radius:12px;
  border:1px solid rgba(255,255,255,.2);
  background:#020617;
  color:#fff;
}

.save-btn{
  margin-top:18px;
  width:100%;
  padding:12px;
  border-radius:999px;
  border:none;
  font-family:Orbitron;
  background:linear-gradient(90deg,var(--zep-blue),var(--zep-violet));
  color:#050015;
  cursor:pointer;
}

/* Progress */
.progress{
  margin-top:14px;
  font-size:12px;
  opacity:.85;
}

/* Footer */
.footer{
  position:fixed;
  bottom:0;left:0;right:0;
  padding:14px 22px;
  background:rgba(0,0,0,.55);
  display:flex;
  justify-content:space-around;
  backdrop-filter:blur(10px);
}
.fbtn{
  width:56px;height:56px;
  border-radius:18px;
  background:rgba(255,255,255,.05);
  display:flex;align-items:center;justify-content:center;
  text-decoration:none;color:#fff;
}
</style>
</head>

<body>

<div class="container">

  <!-- HEADER -->
  <div class="header">
    <div class="brand">Student Profile</div>
    <button class="home-btn" onclick="location.href='student-dashboard.html'">Home</button>
  </div>

  <!-- PROFILE CARD -->
  <div class="card">

    <div class="avatar-wrap">
      <img id="avatarPreview" class="avatar" src="" alt="Avatar"/>
      <label class="upload-btn">
        Upload avatar
        <input type="file" accept="image/*" hidden onchange="uploadAvatar(event)">
      </label>
      <div id="verifyBadge" class="badge locked">Not Verified</div>
    </div>

    <div class="field">
      <label>Full name</label>
      <input id="nameInput" placeholder="Your name">
    </div>

    <div class="field">
      <label>University</label>
      <input id="uniInput" placeholder="University name">
    </div>

    <div class="field">
      <label>Country</label>
      <input id="countryInput" placeholder="Country">
    </div>

    <button class="save-btn" onclick="saveProfile()">Save Profile</button>

    <div class="progress" id="progressText"></div>

  </div>

</div>

<!-- FOOTER -->
<div class="footer">
  <a class="fbtn" href="wallet.html">ðŸ’¼</a>
  <a class="fbtn" href="learn-earn.html">ðŸŽ“</a>
  <a class="fbtn" href="profile.html">ðŸ‘¤</a>
</div>

<script>
/* ---------------- LOAD ---------------- */
window.onload = () => {
  const profile = JSON.parse(localStorage.getItem("zepStudentProfile")||"{}");
  const learn = JSON.parse(localStorage.getItem("zepProgress")||"{}");

  if(profile.avatar){
    document.getElementById("avatarPreview").src = profile.avatar;
  }
  document.getElementById("nameInput").value = profile.name || "";
  document.getElementById("uniInput").value = profile.university || "";
  document.getElementById("countryInput").value = profile.country || "";

  let completed = 0;
  Object.values(learn).forEach(s=>{
    completed += Math.max(0,(s.day||1)-1);
  });

  const badge = document.getElementById("verifyBadge");
  if(completed >= 21){
    badge.textContent = "Verified Student";
    badge.className = "badge verified";
  }

  document.getElementById("progressText").textContent =
    `Tasks completed: ${completed} / 21`;
};

/* ---------------- SAVE ---------------- */
function saveProfile(){
  const existing = JSON.parse(localStorage.getItem("zepStudentProfile")||"{}");

  const profile = {
    ...existing,
    name: document.getElementById("nameInput").value.trim(),
    university: document.getElementById("uniInput").value.trim(),
    country: document.getElementById("countryInput").value.trim(),
  };

  localStorage.setItem("zepStudentProfile", JSON.stringify(profile));
  alert("Profile saved âœ…");
}

/* ---------------- AVATAR ---------------- */
function uploadAvatar(e){
  const file = e.target.files[0];
  if(!file) return;

  const reader = new FileReader();
  reader.onload = ()=>{
    document.getElementById("avatarPreview").src = reader.result;

    const profile = JSON.parse(localStorage.getItem("zepStudentProfile")||"{}");
    profile.avatar = reader.result;
    localStorage.setItem("zepStudentProfile", JSON.stringify(profile));
  };
  reader.readAsDataURL(file);
}
</script>

</body>
</html>