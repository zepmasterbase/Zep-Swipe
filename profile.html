<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Zep Swipe â€” Student Profile</title>
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@600;700&family=Poppins:wght@300;400,500,600&display=swap" rel="stylesheet">
<style>
:root{
  --zep-blue:#00f0ff;
  --zep-violet:#9c4dff;
  --bg:radial-gradient(circle at 30% 10%, #050018, #00000c);
  --glass:rgba(255,255,255,0.08);
  --text-light:rgba(255,255,255,0.85);
}
*{box-sizing:border-box;margin:0;padding:0;font-family:Poppins,sans-serif;}
body{background:var(--bg);color:#fff;min-height:100vh;padding-bottom:50px;}

/* HEADER */
header{
  display:flex;
  justify-content:space-between;
  align-items:center;
  padding:18px;
  margin:16px;
  border-radius:16px;
  background:radial-gradient(circle at center, rgba(0,240,255,.2), rgba(156,77,255,.2));
  backdrop-filter:blur(14px);
  animation:pulse 4s infinite alternate;
}
@keyframes pulse{
  0%{box-shadow:0 0 20px rgba(0,240,255,.25)}
  100%{box-shadow:0 0 40px rgba(156,77,255,.45)}
}
.header-left{display:flex;align-items:center;gap:12px;}
.header-left h2{font-family:Orbitron;font-size:1.1rem;}
.header-left span{font-size:.8rem;color:var(--text-light);}
.header-right{display:flex;align-items:center;gap:14px;}
.brand{
  font-family:Orbitron;
  font-size:1.2rem;
  background:linear-gradient(90deg,var(--zep-blue),var(--zep-violet));
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
}
.logout-btn{
  background:rgba(255,255,255,.1);
  border:none;
  border-radius:50%;
  width:38px;
  height:38px;
  cursor:pointer;
  color:#fff;
  font-size:16px;
}
.logout-btn:hover{background:rgba(255,0,80,.3);}

/* PROFILE CARDS */
.container{
  padding:0 16px;
  display:flex;
  flex-direction:column;
  gap:20px;
}
.card{
  background:var(--glass);
  border-radius:16px;
  padding:16px;
  border:1px solid rgba(255,255,255,.12);
  box-shadow:0 0 40px rgba(0,240,255,.1);
}
.card h3{font-family:Orbitron;margin-bottom:12px;}
.input-group{display:flex;flex-direction:column;margin-bottom:12px;}
.input-group label{font-size:.85rem;color:var(--text-light);margin-bottom:4px;}
.input-group input{padding:10px;border-radius:12px;border:none;outline:none;background:rgba(255,255,255,.05);color:#fff;}
.input-group input::placeholder{color:rgba(255,255,255,.5);}
button.update-btn{
  width:100%;
  padding:12px;
  border:none;
  border-radius:999px;
  font-family:Orbitron;
  background:linear-gradient(90deg,var(--zep-blue),var(--zep-violet));
  color:#050015;
  cursor:pointer;
  margin-top:8px;
}
button.update-btn:hover{transform:translateY(-2px);box-shadow:0 0 36px rgba(156,77,255,.45);}

/* AVATAR */
.avatar-container{
  display:flex;
  justify-content:center;
  margin-bottom:12px;
}
.avatar-container img{
  width:100px;
  height:100px;
  border-radius:50%;
  border:2px solid rgba(255,255,255,.3);
  object-fit:cover;
  cursor:pointer;
}

/* PROFILE COMPLETION */
.verify-bar{
  height:10px;
  background:rgba(255,255,255,.1);
  border-radius:6px;
  overflow:hidden;
  margin-bottom:6px;
}
.verify-bar div{
  height:100%;
  background:linear-gradient(90deg,var(--zep-blue),var(--zep-violet));
}
.verify-text{font-size:.85rem;color:var(--text-light);text-align:center;}

/* MOBILE */
@media(max-width:480px){
  .avatar-container img{width:80px;height:80px;}
}
</style>
</head>
<body>

<script>
/* SESSION PROTECTION */
const user = JSON.parse(localStorage.getItem("currentUser"));
if(!user){window.location.href="auth.html";}
</script>

<header>
  <div class="header-left">
    <h2>Profile</h2>
    <span id="studentLevel"></span>
  </div>
  <div class="header-right">
    <div class="brand">Zep Swipe</div>
    <button class="logout-btn" onclick="logout()">âŽ‹</button>
  </div>
</header>

<div class="container">

  <!-- AVATAR -->
  <div class="card avatar-container">
    <img id="profileImg" src="" alt="Profile" title="Click to change avatar">
  </div>

  <!-- PROFILE INFO -->
  <div class="card">
    <h3>Student Info</h3>
    <div class="input-group">
      <label for="name">Full Name</label>
      <input type="text" id="name" placeholder="Enter your name">
    </div>
    <div class="input-group">
      <label for="email">Email</label>
      <input type="email" id="email" placeholder="Enter your email">
    </div>
    <div class="input-group">
      <label for="level">Level / Status</label>
      <input type="text" id="level" placeholder="Beginner Freelancer">
    </div>
    <button class="update-btn" onclick="updateProfile()">Update Profile</button>
  </div>

  <!-- PROFILE COMPLETENESS -->
  <div class="card">
    <h3>Profile Completion</h3>
    <div class="verify-bar">
      <div id="completionBar"></div>
    </div>
    <div class="verify-text" id="completionText"></div>
  </div>

</div>

<script>
/* Populate user info */
document.getElementById("name").value = user.name || "";
document.getElementById("email").value = user.email || "";
document.getElementById("level").value = user.level || "Beginner Freelancer";
document.getElementById("studentLevel").innerText = user.level || "Beginner Freelancer";
document.getElementById("profileImg").src = user.avatar || "https://via.placeholder.com/100";

/* Profile Completeness Logic */
function calculateCompletion(u){
  let count=0;
  if(u.name) count+=30;
  if(u.email) count+=30;
  if(u.avatar) count+=20;
  if(u.level) count+=20;
  return Math.min(count,100);
}

function updateCompletion(){
  const updated = JSON.parse(localStorage.getItem("currentUser"));
  const comp = calculateCompletion(updated);
  document.getElementById("completionBar").style.width = comp + "%";
  document.getElementById("completionText").innerText = comp<60 ? 
    "Complete your profile to unlock more jobs" :
    "Profile complete â€” jobs unlocked ðŸŽ‰";
}

/* Update Profile */
function updateProfile(){
  user.name = document.getElementById("name").value.trim();
  user.email = document.getElementById("email").value.trim();
  user.level = document.getElementById("level").value.trim();
  localStorage.setItem("currentUser", JSON.stringify(user));
  alert("Profile updated!");
  updateCompletion();
  document.getElementById("studentLevel").innerText = user.level;
}

/* Avatar Change */
document.getElementById("profileImg").addEventListener("click",()=>{
  const url = prompt("Enter avatar image URL:");
  if(url){user.avatar=url;localStorage.setItem("currentUser",JSON.stringify(user));document.getElementById("profileImg").src=url;updateCompletion();}
});

/* Initialize completion */
updateCompletion();

/* Logout */
function logout(){localStorage.removeItem("currentUser");window.location.href="auth.html";}
</script>

</body>
</html>