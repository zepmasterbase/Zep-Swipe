<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Zep Swipe — Store Details</title>
<style>
  /* Basic Reset */
  * { margin: 0; padding: 0; box-sizing: border-box; }
  body {
    font-family: Poppins, sans-serif;
    background: radial-gradient(circle at 30% 10%, #050018 0%, #00000c 100%);
    color: #fff;
    min-height: 100vh;
    padding: 20px;
  }

  h1 {
    font-family: 'Orbitron', sans-serif;
    font-size: 2rem;
    text-align: center;
    margin-bottom: 20px;
    background: linear-gradient(90deg, #00f0ff, #9c4dff);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
  }

  .store-card {
    background: rgba(255,255,255,0.05);
    border: 1px solid rgba(255,255,255,0.12);
    border-radius: 16px;
    padding: 16px;
    display: flex;
    flex-direction: column;
    gap: 16px;
  }

  .store-card img {
    width: 100%;
    max-height: 180px;
    object-fit: cover;
    border-radius: 12px;
  }

  .store-info h2 {
    font-family: 'Orbitron', sans-serif;
    font-size: 1.5rem;
    margin-bottom: 8px;
  }

  .store-info p {
    font-size: 0.95rem;
    opacity: 0.85;
    margin-bottom: 6px;
  }

  .deal-list {
    list-style-type: disc;
    padding-left: 20px;
  }

  .deal-list li {
    margin-bottom: 6px;
  }

  .distance {
    font-weight: bold;
    color: #00f0ff;
  }

  .btn {
    padding: 10px 18px;
    font-family: 'Orbitron', sans-serif;
    font-size: 0.9rem;
    background: linear-gradient(90deg,#00f0ff,#9c4dff);
    color: #050015;
    border: none;
    border-radius: 999px;
    cursor: pointer;
    margin-top: 12px;
    width: fit-content;
    box-shadow: 0 0 20px rgba(0,240,255,.35);
    text-decoration: none;
    text-align: center;
  }

  @media (min-width: 600px) {
    .store-card {
      flex-direction: column;
      gap: 16px;
    }
    .store-card img {
      max-height: 220px;
    }
  }
</style>
</head>
<body>

<h1>Campus Market — Store Details</h1>

<div class="store-card">
  <!-- Store image/logo -->
  <img src="https://via.placeholder.com/400x180?text=Store+Logo" alt="Store Logo">

  <div class="store-info">
    <!-- Store name -->
    <h2>Campus Cafe</h2>

    <!-- Distance from user (updated by JS) -->
    <p class="distance" id="distance">Distance: calculating...</p>

    <!-- Store address with clickable Google Maps link -->
    <p>Address: <a href="https://www.google.com/maps/search/?api=1&query=-33.9571,18.4603" target="_blank">University of Cape Town</a></p>

    <!-- Opening hours -->
    <p>Opening Hours: Mon-Fri 8:00 AM - 6:00 PM</p>

    <!-- Contact info (optional) -->
    <p>Phone: +27 123 456 7890 | Email: info@campuscafe.com</p>

    <!-- Instructions for students -->
    <p><strong>Instructions:</strong> Show your student ID at checkout.</p>

    <!-- List of deals -->
    <h3>Deals Available:</h3>
    <ul class="deal-list">
      <!-- Add additional deals here -->
      <li>20% off all coffee and snacks</li>
      <li>Buy 2 get 1 free pastries</li>
      <li>Free drink with breakfast combo</li>
    </ul>

    <!-- Back to deals button -->
    <a href="deals.html" class="btn">← Back to Deals</a>
  </div>
</div>

<script>
/*
  Geolocation Feature:
  - The browser asks for user's location
  - Calculates straight-line distance to the store
  - Updates the "Distance" paragraph dynamically
*/
const storeLat = -33.9571; // Update with store latitude
const storeLng = 18.4603;  // Update with store longitude
const distanceEl = document.getElementById("distance");

// Haversine formula to calculate distance in km
function calculateDistance(lat1, lon1, lat2, lon2) {
  const R = 6371; // km
  const dLat = (lat2 - lat1) * Math.PI/180;
  const dLon = (lon2 - lon1) * Math.PI/180;
  const a = Math.sin(dLat/2)**2 + Math.cos(lat1*Math.PI/180) * Math.cos(lat2*Math.PI/180) * Math.sin(dLon/2)**2;
  const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a));
  return (R * c).toFixed(2);
}

if(navigator.geolocation){
  navigator.geolocation.getCurrentPosition(
    pos => {
      const userLat = pos.coords.latitude;
      const userLng = pos.coords.longitude;
      const dist = calculateDistance(userLat, userLng, storeLat, storeLng);
      distanceEl.textContent = `Distance: ${dist} km`;
    },
    err => {
      console.warn("Location not available:", err);
      distanceEl.textContent = "Distance: location unavailable";
    }
  );
} else {
  distanceEl.textContent = "Distance: geolocation not supported";
}
</script>

</body>
</html>