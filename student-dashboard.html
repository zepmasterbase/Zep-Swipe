<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Zep Swipe — Student Dashboard</title>

<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@600;700&family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet"/>

<style>
:root{
  --zep-blue:#00f0ff;
  --zep-violet:#9c4dff;
  --bg:radial-gradient(circle at 20% 10%, #05001a 0%, #00000d 100%);
  --glass:rgba(255,255,255,0.06);
}
*{box-sizing:border-box}
body{
  margin:0;
  font-family:Poppins,sans-serif;
  background:var(--bg);
  color:#fff;
}

/* HEADER */
.header{
  position:sticky;
  top:0;
  z-index:10;
  padding:18px 22px;
  display:flex;
  justify-content:space-between;
  align-items:center;
  background:rgba(0,0,0,.65);
  backdrop-filter:blur(18px);
  border-bottom:1px solid rgba(255,255,255,.08);
  animation:pulse 3s ease-in-out infinite alternate;
}
@keyframes pulse{
  from{box-shadow:0 0 18px rgba(0,240,255,.25)}
  to{box-shadow:0 0 38px rgba(156,77,255,.45)}
}
.brand{
  font-family:Orbitron;
  font-size:1.4rem;
  background:linear-gradient(90deg,var(--zep-blue),var(--zep-violet));
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
}
.wallet{
  font-family:Orbitron;
  font-size:.85rem;
  opacity:.9;
}

/* LAYOUT */
.container{
  max-width:980px;
  margin:26px auto 90px;
  padding:0 18px;
}

/* PROFILE CARD */
.profile{
  display:flex;
  gap:18px;
  align-items:center;
  padding:20px;
  border-radius:22px;
  background:rgba(0,0,0,.65);
  border:1px solid rgba(255,255,255,.12);
  margin-bottom:22px;
}
.avatar{
  width:86px;height:86px;
  border-radius:50%;
  border:3px solid var(--zep-blue);
  object-fit:cover;
  background:#020617;
}
.profile-info h2{
  margin:0;
  font-family:Orbitron;
  font-size:1.1rem;
}
.profile-info p{
  margin:4px 0;
  font-size:12px;
  opacity:.85;
}
.badge{
  display:inline-block;
  margin-top:6px;
  padding:4px 10px;
  border-radius:999px;
  font-size:10px;
  font-family:Orbitron;
  background:linear-gradient(90deg,var(--zep-blue),var(--zep-violet));
  color:#050015;
}

/* BALANCE */
.balance-card{
  margin-bottom:26px;
  padding:20px;
  border-radius:22px;
  background:rgba(0,0,0,.7);
  border:1px solid rgba(0,240,255,.35);
  display:flex;
  align-items:center;
  gap:18px;
}
.zac-icon{
  width:72px;height:72px;
  border-radius:18px;
  background:linear-gradient(135deg,var(--zep-blue),var(--zep-violet));
  display:flex;
  align-items:center;
  justify-content:center;
  font-family:Orbitron;
  font-size:20px;
  color:#050015;
}
.zac-amount{
  font-family:Orbitron;
  font-size:28px;
}
.zac-sub{
  font-size:12px;
  opacity:.8;
}

/* ACTIONS */
.actions{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(240px,1fr));
  gap:16px;
  margin-bottom:26px;
}
.action{
  padding:18px;
  border-radius:20px;
  background:rgba(0,0,0,.65);
  border:1px solid rgba(255,255,255,.12);
  text-decoration:none;
  color:#fff;
  transition:.25s;
}
.action:hover{
  transform:translateY(-4px);
  box-shadow:0 0 30px rgba(0,240,255,.35);
}
.action h3{
  font-family:Orbitron;
  margin:0 0 6px;
}
.action p{
  font-size:12px;
  opacity:.85;
}

/* SKILLS */
.section-title{
  font-family:Orbitron;
  font-size:1.2rem;
  margin-bottom:14px;
  background:linear-gradient(90deg,var(--zep-blue),var(--zep-violet));
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
}
.skills{
  display:grid;
  grid-template-columns:repeat(2,1fr);
  gap:14px;
}
@media(max-width:640px){.skills{grid-template-columns:1fr}}

.skill{
  padding:16px;
  border-radius:18px;
  background:rgba(0,0,0,.65);
  border:1px solid rgba(255,255,255,.12);
}
.skill h4{
  font-family:Orbitron;
  margin:0;
  font-size:.95rem;
}
.skill p{
  font-size:11px;
  opacity:.8;
  margin:6px 0;
}
.progress{
  height:6px;
  border-radius:999px;
  background:rgba(255,255,255,.12);
  overflow:hidden;
}
.progress span{
  display:block;
  height:100%;
  background:linear-gradient(90deg,var(--zep-blue),var(--zep-violet));
}
</style>
</head>

<body>

<!-- HEADER -->
<div class="header">
  <div class="brand">Zep Swipe · Student</div>
  <div id="walletShort" class="wallet">—</div>
</div>

<div class="container">

  <!-- PROFILE -->
  <div class="profile">
    <img id="avatar" class="avatar" alt="Student avatar"/>
    <div class="profile-info">
      <h2 id="studentName">Student</h2>
      <p id="studentUni">—</p>
      <p id="studentCountry">—</p>
      <span id="verifyBadge"></span>
    </div>
  </div>

  <!-- ZAC BALANCE -->
  <div class="balance-card">
    <div class="zac-icon">ZAC</div>
    <div>
      <div class="zac-amount" id="zacAmount">0</div>
      <div class="zac-sub">Zep Cash earned from skills</div>
    </div>
  </div>

  <!-- QUICK ACTIONS -->
  <div class="actions">
    <a href="learn-earn.html" class="action">
      <h3>Earn</h3>
      <p>Complete daily skill challenges</p>
    </a>

    <a href="wallet.html" class="action">
      <h3>Wallet</h3>
      <p>View balances & transactions</p>
    </a>

    <a href="swipe-merchants.html" class="action">
      <h3>Browse Student Creators</h3>
      <p>Hire verified students & creators</p>
    </a>
  </div>

  <!-- SKILLS -->
  <div class="section-title">Skill Progress</div>
  <div class="skills" id="skillsGrid"></div>

</div>

<script>
function shortAddr(a){return a ? a.slice(0,6)+"..."+a.slice(-4) : "—";}

/* LOAD DATA */
const student = JSON.parse(localStorage.getItem("zepStudent")) || {};
const profile = JSON.parse(localStorage.getItem("zepProfile")) || {};
const progress = JSON.parse(localStorage.getItem("zepProgress")) || {};

/* HEADER */
document.getElementById("walletShort").textContent =
  student.wallet ? shortAddr(student.wallet) : "Connect Wallet";

/* PROFILE */
document.getElementById("studentName").textContent =
  profile.name || "Student";
document.getElementById("studentUni").textContent =
  profile.university || "University not set";
document.getElementById("studentCountry").textContent =
  profile.country || "Country not set";

/* AVATAR (never breaks) */
const avatarURL = profile.avatar && profile.avatar.startsWith("http")
  ? profile.avatar
  : "https://avatars.githubusercontent.com/u/9919?v=4";
document.getElementById("avatar").src = avatarURL;

/* VERIFIED BADGE */
if(student.verified){
  document.getElementById("verifyBadge").innerHTML =
    `<span class="badge">Verified Creator</span>`;
}

/* ZAC */
document.getElementById("zacAmount").textContent =
  student.zacAmount || 0;

/* SKILLS */
const skills=[
 ["AI Prompt Engineering","prompt"],
 ["AI Content Creation","content"],
 ["Social Design","design"],
 ["Video Editing","video"],
 ["No-Code Websites","web"],
 ["Chatbot Builder","bot"],
 ["Research & Lead Gen","research"],
 ["Micro-Automation","auto"]
];

const grid=document.getElementById("skillsGrid");
skills.forEach(s=>{
 const day = progress[s[1]]?.day || 1;
 const pct = (day-1)/21*100;
 const d=document.createElement("div");
 d.className="skill";
 d.innerHTML=`
  <h4>${s[0]}</h4>
  <p>Day ${day} of 21</p>
  <div class="progress"><span style="width:${pct}%"></span></div>
 `;
 grid.appendChild(d);
});
</script>

</body>
</html>