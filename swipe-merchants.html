<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Zep Swipe ‚Äî Student Job Marketplace</title>
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@600;700&family=Poppins:wght@300;400,500,600&display=swap" rel="stylesheet">
<style>
:root{
  --zep-blue:#00f0ff;
  --zep-violet:#9c4dff;
  --bg:radial-gradient(circle at 30% 10%, #050018, #00000c);
  --glass:rgba(255,255,255,.08);
  --text-light:rgba(255,255,255,.85);
  --green:#00ff94;
}

/* RESET */
*{box-sizing:border-box;margin:0;padding:0;font-family:Poppins,sans-serif;}
body{background:var(--bg);color:#fff;min-height:100vh;line-height:1.4;}

/* HEADER */
header{
  display:flex;
  justify-content:space-between;
  align-items:center;
  padding:16px 20px;
  background:rgba(0,0,0,0.2);
  border-radius:12px;
  max-width:1200px;
  margin:auto;
  margin-bottom:20px;
}
.brand{
  font-family:Orbitron;
  font-size:1.6rem;
  background:linear-gradient(90deg,var(--zep-blue),var(--zep-violet));
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
}
.home-btn{
  background:linear-gradient(135deg,var(--zep-blue),var(--zep-violet));
  border:none;
  border-radius:50%;
  width:50px;height:50px;
  display:flex;
  justify-content:center;
  align-items:center;
  font-size:24px;
  color:#050015;
  cursor:pointer;
  transition:.3s;
}
.home-btn:hover{
  transform:scale(1.1);
  box-shadow:0 0 20px var(--zep-blue),0 0 40px var(--zep-violet);
}

/* CONTAINER */
.container{
  max-width:1200px;
  margin:auto;
  padding:20px;
}

/* TITLE */
h2{text-align:center;font-family:Orbitron;margin-bottom:20px;}

/* JOB CARDS */
.jobs-grid{
  display:grid;
  grid-template-columns:1fr;
  gap:16px;
}
@media(min-width:600px){
  .jobs-grid{grid-template-columns:1fr 1fr;}
}

.job-card{
  background:var(--glass);
  border-radius:16px;
  padding:16px;
  border:1px solid rgba(255,255,255,.12);
  transition:.3s;
  cursor:pointer;
}
.job-card:hover{
  transform:translateY(-2px);
  box-shadow:0 0 20px rgba(156,77,255,.3);
}
.job-card h3{font-size:1.2rem;margin-bottom:6px;}
.job-card p{color:var(--text-light);font-size:.9rem;}
.job-card .meta{
  display:flex;justify-content:space-between;
  font-size:.8rem;color:var(--text-light);
  margin-top:6px;
}

/* MODAL */
.modal-bg{
  position:fixed;top:0;left:0;width:100%;height:100%;
  background:rgba(0,0,0,0.75);
  display:none;
  align-items:center;
  justify-content:center;
  z-index:999;
}
.modal{
  background:var(--bg);
  padding:24px;
  border-radius:16px;
  max-width:500px;
  width:90%;
  position:relative;
  box-shadow:0 0 36px rgba(156,77,255,.3);
}
.modal h3{margin-bottom:12px;font-family:Orbitron;}
.modal p{margin-bottom:12px;color:var(--text-light);}
.close-btn{
  position:absolute;top:12px;right:12px;
  background:none;border:none;color:#fff;font-size:20px;cursor:pointer;
}
.apply-btn{
  padding:12px 20px;
  border:none;
  border-radius:999px;
  background:linear-gradient(90deg,var(--green),var(--zep-blue));
  color:#050015;
  font-family:Orbitron;
  cursor:pointer;
  transition:.3s;
}
.apply-btn:hover{
  transform:translateY(-2px);
  box-shadow:0 0 20px var(--green),0 0 36px var(--zep-blue);
}

/* LOCKED MESSAGE */
.locked-message{
  text-align:center;
  margin:20px 0;
  font-size:0.95rem;
  color:var(--text-light);
}
.locked-message button{
  margin-top:10px;
  padding:10px 16px;
  border:none;
  border-radius:999px;
  background:linear-gradient(90deg,var(--zep-blue),var(--zep-violet));
  color:#050015;
  font-family:Orbitron;
  cursor:pointer;
  transition:.3s;
}
.locked-message button:hover{
  transform:translateY(-2px);
  box-shadow:0 0 20px var(--zep-blue),0 0 40px var(--zep-violet);
}

</style>
</head>
<body>

<header>
  <div class="brand">Zep Swipe</div>
  <button class="home-btn" title="Home" onclick="location.href='student-dashboard.html'">üè†</button>
</header>

<div class="container">
  <h2>Job Marketplace</h2>
  <div id="jobsContainer" class="jobs-grid"></div>
</div>

<!-- Job Modal -->
<div class="modal-bg" id="modalBg">
  <div class="modal" id="jobModal">
    <button class="close-btn" onclick="closeModal()">√ó</button>
    <h3 id="modalJobTitle"></h3>
    <p id="modalJobDesc"></p>
    <p><strong>Category:</strong> <span id="modalJobCategory"></span></p>
    <p><strong>Pay:</strong> $<span id="modalJobPay"></span> USD</p>
    <button class="apply-btn" id="modalApplyBtn">Apply</button>
  </div>
</div>

<script>
// Get current user
const currentUser = JSON.parse(localStorage.getItem("currentUser")) || {verified:false,tasksCompleted:0};

// Redirect if not verified or day 5 not complete
if(!currentUser.verified || currentUser.tasksCompleted<5){
  alert("You must be verified and complete Day 5 task to access the marketplace.");
  location.href="learn-earn.html";
}

// Mock job listings
const jobs = [
  {id:1,title:"UX/UI Designer",desc:"Design a mobile app interface for a fintech startup.",category:"UX/UI Design",pay:150,client:"Zep Tech"},
  {id:2,title:"Online Tutor",desc:"Tutor students in Mathematics online.",category:"Online Tutor",pay:100,client:"EduCorp"},
  {id:3,title:"Virtual Assistant",desc:"Assist with admin tasks remotely.",category:"Virtual Assistant",pay:80,client:"BizSolutions"},
  {id:4,title:"Content Creator",desc:"Create short videos for social media marketing.",category:"Content Creator",pay:120,client:"MediaX"},
  {id:5,title:"Blog Writer",desc:"Write articles about tech and finance.",category:"Blog Writer",pay:90,client:"TechWrite"},
  {id:6,title:"Voice Over Artist",desc:"Record professional voiceovers.",category:"Voice Over",pay:75,client:"SoundHouse"},
  {id:7,title:"Data Entry Specialist",desc:"Input data for client databases.",category:"Data Entry",pay:60,client:"DataCorp"},
];

// Render jobs
const container = document.getElementById("jobsContainer");
jobs.forEach(job=>{
  const card = document.createElement("div");
  card.className="job-card";
  card.innerHTML=`
    <h3>${job.title}</h3>
    <p>${job.desc.substring(0,60)}...</p>
    <div class="meta"><span>${job.category}</span><span>Pay: $${job.pay}</span></div>
  `;
  card.addEventListener('click',()=>openModal(job));
  container.appendChild(card);
});

// Modal functions
const modalBg = document.getElementById("modalBg");
const modalJobTitle = document.getElementById("modalJobTitle");
const modalJobDesc = document.getElementById("modalJobDesc");
const modalJobCategory = document.getElementById("modalJobCategory");
const modalJobPay = document.getElementById("modalJobPay");
const modalApplyBtn = document.getElementById("modalApplyBtn");

function openModal(job){
  modalJobTitle.innerText = job.title;
  modalJobDesc.innerText = job.desc;
  modalJobCategory.innerText = job.category;
  modalJobPay.innerText = job.pay;
  modalBg.style.display="flex";

  // Check if already applied
  let appliedJobs = JSON.parse(localStorage.getItem("appliedJobs")) || {};
  const key = `user${currentUser.id}_job${job.id}`;
  if(appliedJobs[key]){
    modalApplyBtn.disabled = true;
    modalApplyBtn.innerText="Already Applied";
  } else {
    modalApplyBtn.disabled = false;
    modalApplyBtn.innerText="Apply";
  }

  modalApplyBtn.onclick = ()=>{
    // Unique application per student-job
    appliedJobs[key]={jobId:job.id,date:new Date().toISOString()};
    localStorage.setItem("appliedJobs",JSON.stringify(appliedJobs));
    modalApplyBtn.disabled = true;
    modalApplyBtn.innerText="Applied ‚úÖ";
    alert("You have successfully applied for this job!");
    closeModal();
  }
}

function closeModal(){modalBg.style.display="none";}
</script>

</body>
</html>