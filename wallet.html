<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Zep Swipe ‚Äî Student Wallet</title>
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@600;700&family=Poppins:wght@300;400,500,600&display=swap" rel="stylesheet">
<style>
:root{
  --zep-blue:#00f0ff;
  --zep-violet:#9c4dff;
  --bg:radial-gradient(circle at 30% 10%, #050018, #00000c);
  --glass:rgba(255,255,255,0.08);
  --text-light:rgba(255,255,255,.85);
  --card-bg:rgba(255,255,255,.05);
  --accent:#00ff9d;
  --modal-bg:rgba(0,0,0,0.85);
}

/* RESET */
*{box-sizing:border-box;margin:0;padding:0;font-family:Poppins,sans-serif;}
body{background:var(--bg);color:#fff;min-height:100vh;overflow-x:hidden;line-height:1.4;}
a{text-decoration:none;color:inherit;}

/* HEADER */
header{
  display:flex;justify-content:space-between;align-items:center;
  padding:16px 20px;max-width:1200px;margin:auto;
  border-radius:12px;background:rgba(0,0,0,0.15);
  box-shadow:0 0 20px var(--zep-blue),0 0 40px var(--zep-violet);
  animation:pulse 2s infinite;margin-top:10px;
}
@keyframes pulse{
  0%{box-shadow:0 0 20px var(--zep-blue),0 0 40px var(--zep-violet);}
  50%{box-shadow:0 0 30px var(--zep-blue),0 0 60px var(--zep-violet);}
  100%{box-shadow:0 0 20px var(--zep-blue),0 0 40px var(--zep-violet);}
}
.brand{font-family:Orbitron;font-size:1.6rem;background:linear-gradient(90deg,var(--zep-blue),var(--zep-violet));-webkit-background-clip:text;-webkit-text-fill-color:transparent;}
nav a{margin-left:20px;font-weight:500;transition:.3s;}
nav a:hover{color:var(--zep-blue);}

/* WALLET CARD */
.wallet-card{
  max-width:600px;margin:30px auto;padding:20px;border-radius:16px;
  background:var(--card-bg);backdrop-filter:blur(6px);
  display:flex;flex-direction:column;gap:12px;
}
.wallet-card h2{font-family:Orbitron;margin-bottom:6px;}
.wallet-balance{font-size:1.2rem;font-weight:600;}
.wallet-usd{font-size:0.9rem;color:var(--text-light);}
.wallet-actions{display:flex;gap:12px;margin-top:12px;}
.wallet-actions button{
  flex:1;padding:12px;border:none;border-radius:999px;
  background:linear-gradient(90deg,var(--zep-blue),var(--zep-violet));
  color:#050015;font-family:Orbitron;cursor:pointer;transition:.3s;
}
.wallet-actions button:hover{transform:translateY(-2px);box-shadow:0 0 15px var(--zep-blue),0 0 30px var(--zep-violet);}

/* TRANSACTION HISTORY */
.transactions{max-width:600px;margin:20px auto;padding:0 20px;}
.transactions h3{margin-bottom:12px;}
.transaction-item{
  background:var(--card-bg);padding:12px;border-radius:12px;margin-bottom:8px;display:flex;justify-content:space-between;align-items:center;
}
.transaction-item span{font-size:0.85rem;color:var(--text-light);}

/* MODAL */
.modal{
  position:fixed;inset:0;display:none;align-items:center;justify-content:center;
  background:var(--modal-bg);backdrop-filter:blur(6px);z-index:1000;
}
.modal-content{
  background:var(--card-bg);padding:24px;border-radius:16px;text-align:center;
  max-width:400px;animation:fadeIn 0.4s ease;
}
.modal-content h2{font-family:Orbitron;margin-bottom:12px;font-size:1.3rem;}
.modal-content p{margin-bottom:20px;color:var(--text-light);}
.modal-content input{width:80%;padding:10px;border-radius:12px;border:none;background:rgba(255,255,255,0.1);color:#fff;outline:none;margin-bottom:12px;}
.modal-content button{
  padding:10px 20px;border:none;border-radius:999px;
  background:linear-gradient(90deg,var(--zep-blue),var(--zep-violet));color:#050015;
  cursor:pointer;font-family:Orbitron;transition:.3s;
}
.modal-content button:hover{transform:translateY(-2px);box-shadow:0 0 15px var(--zep-blue),0 0 30px var(--zep-violet);}

/* FOOTER */
footer{text-align:center;padding:20px 10px;margin-top:40px;border-top:1px solid rgba(255,255,255,.1);color:var(--text-light);font-size:0.85rem;}
</style>
</head>
<body>

<header>
  <div class="brand">Zep Swipe</div>
  <nav>
    <a href="index.html">Home</a>
    <a href="learn-earn.html">Learn & Earn</a>
    <a href="marketplace.html">Marketplace</a>
    <a href="profile.html">Profile</a>
  </nav>
</header>

<!-- WALLET CARD -->
<div class="wallet-card">
  <h2>Student Wallet</h2>
  <div class="wallet-balance">Balance: <span id="walletBalance">0</span> ZAC</div>
  <div class="wallet-usd">‚âà $<span id="walletUSD">0.00</span></div>
  <div class="wallet-actions">
    <button id="withdrawBtn">Withdraw to üè¶ Bank</button>
    <button id="requestBtn">Request Funds</button>
  </div>
</div>

<!-- TRANSACTION HISTORY -->
<div class="transactions">
  <h3>Transaction History</h3>
  <div id="transactionList"></div>
</div>

<!-- MODALS -->
<div class="modal" id="withdrawModal">
  <div class="modal-content">
    <h2>Withdraw to Bank</h2>
    <p>Enter amount to withdraw (ZAC)</p>
    <input type="number" id="withdrawAmount" min="1" placeholder="Amount">
    <button id="confirmWithdraw">Confirm Withdrawal</button>
    <button onclick="closeModal('withdrawModal')">Cancel</button>
  </div>
</div>

<div class="modal" id="requestModal">
  <div class="modal-content">
    <h2>Request Funds</h2>
    <p>Enter phone number of sender</p>
    <input type="text" id="requestPhone" placeholder="e.g. +1234567890">
    <p>Amount (ZAC)</p>
    <input type="number" id="requestAmount" min="1" placeholder="Amount">
    <button id="confirmRequest">Request Funds</button>
    <button onclick="closeModal('requestModal')">Cancel</button>
  </div>
</div>

<footer>
  &copy; 2026 Zep Swipe. All Rights Reserved.
</footer>

<script>
// GET STUDENT DATA
let studentData = JSON.parse(localStorage.getItem('studentData'));
if(!studentData || !studentData.loggedIn){window.location.href='login.html';}

// CONSTANTS
const ZAC_TO_USD = 0.014;

// DISPLAY BALANCE
const walletBalanceEl = document.getElementById('walletBalance');
const walletUSDEl = document.getElementById('walletUSD');
const transactionList = document.getElementById('transactionList');

function updateWalletDisplay(){
  walletBalanceEl.innerText = studentData.walletBalance || 0;
  walletUSDEl.innerText = ((studentData.walletBalance||0)*ZAC_TO_USD).toFixed(2);
}
updateWalletDisplay();

// TRANSACTION HISTORY
if(!studentData.transactions) studentData.transactions=[];
function renderTransactions(){
  transactionList.innerHTML='';
  studentData.transactions.slice().reverse().forEach(tx=>{
    const div = document.createElement('div');
    div.className='transaction-item';
    div.innerHTML=`<span>${tx.type}</span><span>${tx.amount} ZAC</span>`;
    transactionList.appendChild(div);
  });
}
renderTransactions();

// MODAL LOGIC
function closeModal(id){
  document.getElementById(id).style.display='none';
}
document.getElementById('withdrawBtn').onclick=()=>document.getElementById('withdrawModal').style.display='flex';
document.getElementById('requestBtn').onclick=()=>document.getElementById('requestModal').style.display='flex';

// WITHDRAWAL LOGIC
document.getElementById('confirmWithdraw').onclick=()=>{
  let amt = parseFloat(document.getElementById('withdrawAmount').value);
  if(!amt || amt>studentData.walletBalance){alert("Invalid amount"); return;}
  studentData.walletBalance -= amt;
  studentData.transactions.push({type:'Withdrawal',amount:amt});
  localStorage.setItem('studentData', JSON.stringify(studentData));
  updateWalletDisplay();
  renderTransactions();
  closeModal('withdrawModal');
  alert(`Withdrawal of ${amt} ZAC successful!`);
};

// REQUEST FUND LOGIC (Placeholder for Flutterwave)
document.getElementById('confirmRequest').onclick=()=>{
  let amt = parseFloat(document.getElementById('requestAmount').value);
  let phone = document.getElementById('requestPhone').value.trim();
  if(!amt || !phone){alert("Enter valid phone number and amount");return;}
  // Here you can integrate Flutterwave API
  studentData.transactions.push({type:`Requested from ${phone}`,amount:amt});
  localStorage.setItem('studentData', JSON.stringify(studentData));
  renderTransactions();
  closeModal('requestModal');
  alert(`Fund request of ${amt} ZAC sent to ${phone}!`);
};
</script>

</body>
</html>