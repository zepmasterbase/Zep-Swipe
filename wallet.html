<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Zep Swipe ‚Äî Wallet</title>

<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@600;700&family=Poppins:wght@400;500;600&display=swap" rel="stylesheet"/>
<script src="https://cdn.jsdelivr.net/npm/ethers@6.6.0/dist/ethers.min.js"></script>

<style>
:root{
  --zep-blue:#00f0ff;
  --zep-violet:#9c4dff;
  --bg:radial-gradient(circle at 25% 10%, #020014 0%, #00000a 100%);
  --glass:rgba(255,255,255,0.06);
}
*{box-sizing:border-box}
body{
  margin:0;
  font-family:Poppins,sans-serif;
  background:var(--bg);
  color:#fff;
  overflow-x:hidden;
}
.container{
  max-width:900px;
  margin:26px auto 120px;
  padding:16px;
}

/* HEADER */
.header{
  padding:18px 20px;
  border-radius:20px;
  background:var(--glass);
  border:1px solid rgba(255,255,255,.12);
  backdrop-filter:blur(18px);
  display:flex;
  justify-content:space-between;
  align-items:center;
  box-shadow:0 0 36px rgba(0,240,255,.35);
}
.brand{
  font-family:Orbitron;
  font-size:1.45rem;
  background:linear-gradient(90deg,var(--zep-blue),var(--zep-violet));
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
}
.addr{
  font-family:Orbitron;
  font-size:.8rem;
  color:#d7faff;
  cursor:pointer;
  opacity:.9;
}

/* WALLET CARD */
.wallet-card{
  margin-top:22px;
  padding:20px;
  border-radius:22px;
  background:rgba(255,255,255,.05);
  border:1px solid rgba(255,255,255,.12);
}
.section-title{
  font-family:Orbitron;
  font-size:1.05rem;
  background:linear-gradient(90deg,var(--zep-blue),var(--zep-violet));
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
  margin-bottom:14px;
}

/* ASSETS */
.asset{
  display:flex;
  justify-content:space-between;
  align-items:center;
  padding:16px;
  border-radius:18px;
  background:rgba(0,0,0,.6);
  border:1px solid rgba(255,255,255,.12);
  margin-bottom:14px;
}
.asset-left{
  display:flex;
  align-items:center;
  gap:14px;
}
.coin{
  width:56px;height:56px;
  border-radius:16px;
  background:linear-gradient(135deg,var(--zep-blue),var(--zep-violet));
  display:flex;
  align-items:center;
  justify-content:center;
  font-family:Orbitron;
  font-size:15px;
  color:#050015;
  box-shadow:0 0 24px rgba(0,240,255,.5);
}
.asset-name{
  font-family:Orbitron;
  font-size:.85rem;
}
.asset-sub{
  font-size:11px;
  opacity:.8;
}
.asset-right{
  text-align:right;
}
.asset-right strong{
  font-family:Orbitron;
  font-size:.95rem;
}
.asset-actions{
  margin-top:6px;
  display:flex;
  gap:6px;
}
.btn{
  padding:6px 12px;
  font-size:11px;
  border-radius:999px;
  border:none;
  cursor:pointer;
  font-family:Orbitron;
  background:linear-gradient(90deg,var(--zep-blue),var(--zep-violet));
  color:#050015;
  box-shadow:0 0 14px rgba(0,240,255,.4);
}
.btn.secondary{
  background:none;
  border:1px solid rgba(255,255,255,.25);
  color:#fff;
  box-shadow:none;
}

/* ACTIVITY */
.activity{
  margin-top:22px;
  padding:18px;
  border-radius:20px;
  background:rgba(255,255,255,.04);
  border:1px solid rgba(255,255,255,.12);
}
.tx{
  font-size:12px;
  opacity:.85;
  margin-bottom:8px;
}

/* FOOTER */
.footer{
  position:fixed;
  bottom:0;left:0;right:0;
  padding:14px 22px;
  background:rgba(0,0,0,.55);
  backdrop-filter:blur(12px);
  display:flex;
  justify-content:space-around;
  border-top:1px solid rgba(255,255,255,.08);
}
.fbtn{
  width:58px;height:58px;
  border-radius:20px;
  background:linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.02));
  display:flex;
  align-items:center;
  justify-content:center;
  text-decoration:none;
  color:#fff;
  font-size:22px;
  box-shadow:
    inset 0 0 10px rgba(255,255,255,.1),
    0 0 18px rgba(0,240,255,.45);
  transition:.25s;
}
.fbtn:hover{
  transform:translateY(-6px);
  box-shadow:
    inset 0 0 14px rgba(255,255,255,.15),
    0 0 36px rgba(156,77,255,.7);
}
</style>
</head>

<body>

<div class="container">

  <!-- HEADER -->
  <div class="header">
    <div class="brand">Zep Swipe ¬∑ Wallet</div>
    <div id="walletAddr" class="addr" onclick="copyAddr()">‚Äî</div>
  </div>

  <!-- WALLET -->
  <div class="wallet-card">
    <div class="section-title">Assets ¬∑ Base Network</div>

    <!-- ZAC -->
    <div class="asset">
      <div class="asset-left">
        <div class="coin">ZAC</div>
        <div>
          <div class="asset-name">Zep Cash</div>
          <div class="asset-sub">Rewards ¬∑ Locked</div>
        </div>
      </div>
      <div class="asset-right">
        <strong id="zacBal">0 ZAC</strong>
        <div class="asset-actions">
          <button class="btn secondary" onclick="copyAddr()">Receive</button>
        </div>
      </div>
    </div>

    <!-- USDC -->
    <div class="asset">
      <div class="asset-left">
        <div class="coin">USDC</div>
        <div>
          <div class="asset-name">USD Coin</div>
          <div class="asset-sub">Payments</div>
        </div>
      </div>
      <div class="asset-right">
        <strong id="usdcBal">‚Äî</strong>
        <div class="asset-actions">
          <button class="btn secondary" onclick="copyAddr()">Receive</button>
          <button class="btn" onclick="sendAlert('USDC')">Send</button>
        </div>
      </div>
    </div>

    <!-- ETH -->
    <div class="asset">
      <div class="asset-left">
        <div class="coin">ETH</div>
        <div>
          <div class="asset-name">Ethereum</div>
          <div class="asset-sub">Gas & transfers</div>
        </div>
      </div>
      <div class="asset-right">
        <strong id="ethBal">‚Äî</strong>
        <div class="asset-actions">
          <button class="btn secondary" onclick="copyAddr()">Receive</button>
          <button class="btn" onclick="sendAlert('ETH')">Send</button>
        </div>
      </div>
    </div>
  </div>

  <!-- ACTIVITY -->
  <div class="activity">
    <div class="section-title">Activity</div>
    <div class="tx">üéì Earned 25 ZAC ‚Äî Learn & Earn</div>
  </div>

</div>

<!-- FOOTER -->
<div class="footer">
  <a class="fbtn" href="student-dashboard.html">üè†</a>
  <a class="fbtn" href="learn-earn.html">üéì</a>
  <a class="fbtn" href="profile.html">üë§</a>
</div>

<script>
const USDC="0x833589fcd6edb6e08f4c7c32d4f71b54bda02913";
const ERC20_ABI=[
  "function balanceOf(address) view returns(uint256)",
  "function decimals() view returns(uint8)"
];

function short(a){return a.slice(0,6)+"..."+a.slice(-4)}

function copyAddr(){
  const s=JSON.parse(localStorage.getItem("zepStudent"));
  navigator.clipboard.writeText(s.wallet);
  alert("Wallet address copied");
}

function sendAlert(asset){
  alert(asset+" sending enabled via connected wallet.\n(ZAC is locked)");
}

window.onload=async()=>{
  const s=JSON.parse(localStorage.getItem("zepStudent"));
  if(!s){location.href="student-login.html";return;}

  document.getElementById("walletAddr").textContent=short(s.wallet);
  document.getElementById("zacBal").textContent=(s.zacAmount||0)+" ZAC";

  const provider=new ethers.JsonRpcProvider("https://mainnet.base.org");

  try{
    const c=new ethers.Contract(USDC,ERC20_ABI,provider);
    const d=await c.decimals();
    const b=await c.balanceOf(s.wallet);
    document.getElementById("usdcBal").textContent=
      Number(ethers.formatUnits(b,d)).toFixed(2)+" USDC";
  }catch{document.getElementById("usdcBal").textContent="0.00 USDC";}

  try{
    const e=await provider.getBalance(s.wallet);
    document.getElementById("ethBal").textContent=
      Number(ethers.formatEther(e)).toFixed(4)+" ETH";
  }catch{document.getElementById("ethBal").textContent="0.0000 ETH";}
};
</script>

</body>
</html>